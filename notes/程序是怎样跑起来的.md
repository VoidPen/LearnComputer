

# 程序是怎样跑起来的

## 一、CPU

#### (一)CPU

1. CPU是什么
   1. CPU是控制计算机设备，根据程序的指令来进行数据运算；
   2. CPU是中央处理器的简写，它的内部是由无数晶体管组成； 
   3. CPU的内部由寄存器、控制器、运算器和时钟四个部分构成，各部分之间通过电信号相互联通；
   4. CPU是具有各种功能的寄存器的集合体；
   5. 寄存器的作用是暂存指令、数据等处理对象，可以看做是内存的一种；
   6. 控制器负责把内存上的指令、数据等读入寄存器，并根据指令的执行结果来控制整个计算机；
   7. 运算器负责运算从内存中读入寄存器的数据；
   8. 时钟负责发出CPU开始计时的时钟信号；
2. 内存
   1. 内存指的是计算机的主存储器，简称主存；
   2. 主存可以通过控制芯片等于CPU相连，主要负责存储指令和数据；
   3. 主存的构成：由可读写的元素构成，每个字节都带有一个地址编号，CPU可以通过改地址读取、读入主存中指令和数据；
   4. 主存的缺点：断电信息丢失；
3. 寄存器的种类：
   1. 累加寄存器：存储执行运算的数据和运算后的数据；
   2. 标志寄存器：存储运算处理后的CPU的状态；
   3. 程序计数器：存储下一条指令所在内存的地址；
   4. 基址寄存器：存储数据内存的起始位置；
   5. 变址寄存器：存储基址寄存器的相对地址；
   6. 通用寄存器：存储任意数据；
   7. 指令寄存器：存储指令，CPU内部使用，无法对改寄存器进行读写操作；
   8. 栈寄存器：存储栈区域的起始地址；
   9. **基址寄存器、变址寄存器、通用寄存器都不止一个；**

#### (二)程序流程

4. 程序计数器：决定程序的流程
   1. 顺序执行：每执行一个指令程序计数器的值就自动加1；
   2. 条件分支：根据条件执行任意地址的指令；
   3. 循环：重复执行同一地址的指令；
5. 标志寄存器
   1. 标志寄存器的作用：保存当前累加寄存器的运算结果是正数、零还是负数；
   2. 运算结果的正、零、负三种状态由标志寄存器的三个位表示；
   3. 程序中的比较指令，就是在CPU内部做减法运算；
6. 函数的调用
   1. 函数的调用处理也是通过把程序计数器的值设定成函数的存储地址来实现的；
   2. **call指令**会把调用函数后要执行的指令地址存储在栈中；
   3. **return命令**的功能是保存在栈中的地址设定到程序计数器中；

7. 基址寄存器和变址寄存器

   1. 两者的作用：可以对主内存上特定的内存区域进行划分，实现类似于数组的操作；
   2. 变址寄存器的值相当于高级编程语言程序中数组的索引； 

8. CPU执行的机器语言分类：

   1. 数据转送指令：寄存器和内存、内存和内存、寄存器和外围设备之间的数据读写操作；
   2. 运算指令：用累加寄存器执行算术运算、逻辑运算、比较运算和移位运算；
   3. 跳转指令：实现条件分支、循环、强制跳转等；
   4. call/return：函数的调用/返回调用前的地址；


----

## 二、二进制数

#### (一)什么是二进制数

1. 用二进制数表示计算机信息的原因：计算机的内部组成元件是由IC这种电子部件构成的。(IC是集成电路的简称，有模拟IC和数字IC两种)
2. 字节
   1. 8位二进制数被称为一个字节，字节是最基本的信息计量单位，位是最小单位，字节是最基本单位；
   2. 内存和磁盘都用字节单位来存储和读写数据，因此字节是信息的基本单位；
3. **位权**
   1. 位权指的是：“OO的XX次幂”表示位权，在十进制数的情况下，OO部分为10，二进制数的情况下为2，这里10和2表示基数；
   2. 二进制数转换十进制数：将二进制数的各数位的值和位权相乘再相加即可；

#### (二)移位运算和乘除运算的关系

4. 移位运算：二进制数的左移和右移运算；
   1. 移位操作使最高位和最低位溢出的数字直接丢弃；
   2. 左移：左移后空出来的低位要进行补0操作；
   3. 右移：右移后空出来的最高位有补0和补1两种操作；
   4. 左移后：二进制数会变成原来的2、4、8倍……；
   5. 右移后：二进制数会变成原来的1/2、1/4、1/8……；
5. 补数
   1. 什么是补数：补数是用正数来表示负数；
   2. 二进制的补数：二进制的补数就是对二进制数取反；
   3. 补数法则：二进制数的值取反后加1的结果，和原来的值相加结果为0；
6. 逻辑右移和算数右移
   1. 逻辑右移：当二进制数的值表示图形模式而不是数值时，移位后需要在最高位补0，称为逻辑右移；
   2. 算数右移：将二进制数作为带符号的数值进行运算时，移位后要在最高位填充移位前符号的值（0或1，0表示正，1表示负），称为算数右移；
   3. 算数右移，空出来的高位用移位前的符号位的值（0或1）来补足；
   4. 逻辑右移，空出来的高位用0补足；
7. 符号扩充：











----

## 三、浮点数













---

## 四、内存和磁盘













---

## 五、运行环境













---

## 六、源文件到可执行文件















----

## 七、操作系统











----

## 八、程序的实际构成





















-----

## 九、硬件













----

## 十、C语言简介